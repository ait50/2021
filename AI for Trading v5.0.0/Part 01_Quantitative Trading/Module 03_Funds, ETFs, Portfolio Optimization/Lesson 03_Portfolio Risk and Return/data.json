{
  "data": {
    "lesson": {
      "id": 667681,
      "key": "c3ef3758-2815-4e6d-b5c9-0cfdd9c535da",
      "title": "Portfolio Risk and Return",
      "semantic_type": "Lesson",
      "is_public": true,
      "version": "1.0.0",
      "locale": "en-us",
      "summary": "Learn the fundamentals of portfolio theory, which are key to designing portfolios for mutual funds, hedge funds and ETFs.",
      "lesson_type": "Classroom",
      "display_workspace_project_only": false,
      "resources": {
        "files": [
          {
            "name": "Videos Zip File",
            "uri": "https://zips.udacity-data.com/c3ef3758-2815-4e6d-b5c9-0cfdd9c535da/667681/1549305514978/Portfolio+Risk+and+Return+Videos.zip"
          },
          {
            "name": "Transcripts Zip File",
            "uri": "https://zips.udacity-data.com/c3ef3758-2815-4e6d-b5c9-0cfdd9c535da/667681/1549305510623/Portfolio+Risk+and+Return+Subtitles.zip"
          }
        ],
        "google_plus_link": null,
        "career_resource_center_link": null,
        "coaching_appointments_link": null,
        "office_hours_link": null,
        "aws_provisioning_link": null
      },
      "project": null,
      "lab": null,
      "concepts": [
        {
          "id": 667682,
          "key": "0718e422-b6d4-49a3-9518-7813f1e9fdda",
          "title": "Intro",
          "semantic_type": "Concept",
          "is_public": true,
          "user_state": {
            "node_key": "0718e422-b6d4-49a3-9518-7813f1e9fdda",
            "completed_at": null,
            "last_viewed_at": null,
            "unstructured": null
          },
          "resources": null,
          "atoms": [
            {
              "id": 677245,
              "key": "a6a02c35-a09f-4049-ba63-b5fe7a70680a",
              "title": "L3 01 Intro V1",
              "semantic_type": "VideoAtom",
              "is_public": true,
              "instructor_notes": "",
              "video": {
                "youtube_id": "PxLJniuGyC0",
                "china_cdn_id": "PxLJniuGyC0.mp4"
              }
            }
          ]
        },
        {
          "id": 667684,
          "key": "340e6d0d-b8fb-45cd-ba6a-78e311e0961e",
          "title": "Diversification",
          "semantic_type": "Concept",
          "is_public": true,
          "user_state": {
            "node_key": "340e6d0d-b8fb-45cd-ba6a-78e311e0961e",
            "completed_at": null,
            "last_viewed_at": null,
            "unstructured": null
          },
          "resources": null,
          "atoms": [
            {
              "id": 695358,
              "key": "33572289-74bf-40dd-846e-4b4cf3ea6a63",
              "title": "L3 02 Diversification V3",
              "semantic_type": "VideoAtom",
              "is_public": true,
              "instructor_notes": "",
              "video": {
                "youtube_id": "tyzqlXddXd8",
                "china_cdn_id": "tyzqlXddXd8.mp4"
              }
            }
          ]
        },
        {
          "id": 667685,
          "key": "3ed84416-d355-4d9e-9b9e-1ab0e792bf5c",
          "title": "Portfolio Mean",
          "semantic_type": "Concept",
          "is_public": true,
          "user_state": {
            "node_key": "3ed84416-d355-4d9e-9b9e-1ab0e792bf5c",
            "completed_at": null,
            "last_viewed_at": null,
            "unstructured": null
          },
          "resources": null,
          "atoms": [
            {
              "id": 695359,
              "key": "da0865b6-b35a-47d5-9430-feedfc3b04b5",
              "title": "L3 03 Portfolio Mean V3",
              "semantic_type": "VideoAtom",
              "is_public": true,
              "instructor_notes": "",
              "video": {
                "youtube_id": "vozlctvug7I",
                "china_cdn_id": "vozlctvug7I.mp4"
              }
            }
          ]
        },
        {
          "id": 679885,
          "key": "81c668e9-8529-430e-ab96-b3bb0bd59f2e",
          "title": "Portfolio Variance",
          "semantic_type": "Concept",
          "is_public": true,
          "user_state": {
            "node_key": "81c668e9-8529-430e-ab96-b3bb0bd59f2e",
            "completed_at": null,
            "last_viewed_at": null,
            "unstructured": null
          },
          "resources": null,
          "atoms": [
            {
              "id": 680098,
              "key": "75622dc9-e23a-4e73-a6f3-5abcb3e57e21",
              "title": "L3 04 Portfolio Variance V2",
              "semantic_type": "VideoAtom",
              "is_public": true,
              "instructor_notes": "",
              "video": {
                "youtube_id": "LlxRypakop4",
                "china_cdn_id": "LlxRypakop4.mp4"
              }
            },
            {
              "id": 679889,
              "key": "6f750926-f48d-4c97-aa27-0bceb16387d3",
              "title": null,
              "semantic_type": "TextAtom",
              "is_public": true,
              "text": "## Derivation of Portfolio Variance\n\nWe start with this: \n\n<div class=\"mathquill\">\\sigma_P^2 = \\sum_ip(i)[r_P - E(r_P)]^2</div>\n\nLet's plug in what we know.\n\n<div class=\"mathquill\">\\sigma_P^2 = \\sum_ip(i)[x_Ar_A -x_AE(r_A) + x_Br_B - x_BE(r_B)]^2</div>\n\n<div class=\"mathquill\"> = \\sum_ip(i)[x_A(r_A -E(r_A)) + x_B(r_B - E(r_B))]^2</div>\n\nThen we square everything in the brackets:\n\n<div class=\"mathquill\"> = \\sum_ip(i)[x_A^2(r_A -E(r_A))^2 + x_B^2(r_B - E(r_B))^2  + 2x_Ax_B(r_A-E(r_A))(r_B - E(r_B))]</div>\n\nWhew, let's stop for a breather. \n\nMmmmk. So now, we do the same thing we did in the derivation of the portfolio mean. Instead of putting everything into one big sum, we break the big sum up into sub-sums, and pull out the weights, which aren't indexed by <span class=\"mathquill\">i</span>.\n\n<div class=\"mathquill\"> = x_A^2\\sum_ip(i)(r_A -E(r_A))^2 + x_B^2\\sum_ip(i)(r_B - E(r_B))^2  + 2x_Ax_B\\sum_ip(i)(r_A-E(r_A))(r_B - E(r_B))</div>\n\nAnd now, if we look closely, we can see the result already. In the first two terms, the sums are just the individual asset variances. The third term is where the magic happens. That sum simply equals the covariance.\n\n<div class=\"mathquill\"> = x_A^2\\sigma_A^2 + x_B^2\\sigma_B^2  + 2x_Ax_B\\mathrm{Cov}(r_A,r_B)</div>",
              "instructor_notes": ""
            }
          ]
        },
        {
          "id": 680789,
          "key": "6bc199e5-6a9e-454a-a7dc-3e459ffb0552",
          "title": "Reducing Risk",
          "semantic_type": "Concept",
          "is_public": true,
          "user_state": {
            "node_key": "6bc199e5-6a9e-454a-a7dc-3e459ffb0552",
            "completed_at": null,
            "last_viewed_at": null,
            "unstructured": null
          },
          "resources": null,
          "atoms": [
            {
              "id": 680791,
              "key": "4afeffd9-eebb-4343-a3cd-36409f8e115a",
              "title": null,
              "semantic_type": "TextAtom",
              "is_public": true,
              "text": "## Reducing Risk with Imperfectly Correlated Stocks\n\nWe just noted that when the correlation is less than one <span class=\"mathquill\">(\\rho < 1)</span> , the portfolio standard deviation is less than the weighted average of the individual standard deviations:  \n<span class=\"mathquill\">\\sigma_{p,\\rho<1} < x_A \\sigma_A + x_B \\sigma_B </span>.  \nLet’s walk through this together to see how this helps us as investors.\n\nFirst, we notice that if the standard deviation of a portfolio is less than the standard deviation of another, then the variance of the first portfolio is also less than that of the second.  \n<span class=\"mathquill\">\\sigma_{p1} < \\sigma_{p2} \\Leftrightarrow \\sigma_{p1}^{2} < \\sigma_{p2}^{2}</span>\n\nSo let’s compare the variance of a portfolio where correlation is +1, and compare it to another portfolio where correlation is less than 1 (let’s just say 0.9).\n\n<span class=\"mathquill\">\\sigma_{p,\\rho=1.0}^2 = x_A^2 \\sigma_A^2 + x_B^2 \\sigma_B^2 + 2x_Ax_B\\sigma_A\\sigma_B\\rho_{r_Ar_B}</span>  \nwhere <span class=\"mathquill\">\\rho_{r_Ar_B} = 1 </span>\n\nVersus  \n<span class=\"mathquill\">\\sigma_{p,\\rho=0.9}^2 = x_A^2 \\sigma_A^2 + x_B^2 \\sigma_B^2 + 2x_Ax_B\\sigma_A\\sigma_B\\rho_{r_Ar_B}</span>  \nwhere <span class=\"mathquill\">\\rho_{r_Ar_B} = 0.9</span>\n\nIf we cancel all of the identical terms in both equations, we can compare the third term in each:  \n<span class=\"mathquill\">2x_Ax_B\\sigma_A\\sigma_B\\times 1 > 2x_Ax_B\\sigma_A\\sigma_B\\times 0.9</span> . \nOr more simply: 1 > 0.9\n\nSo we can show that the variance of the imperfectly correlated portfolio is less than the variance of the perfectly correlated one.  \n<span class=\"mathquill\">\\sigma_{p,\\rho=1.0}^2 = (x_A\\sigma_A + x_B\\sigma_B)^2\n= x_A^2 \\sigma_A^2 + x_B^2 \\sigma_B^2 + 2x_Ax_B\\sigma_A\\sigma_B\\times 1 </span>  \n<span class=\"mathquill\">> x_A^2 \\sigma_A^2 + x_B^2 \\sigma_B^2 + 2x_Ax_B\\sigma_A\\sigma_B\\times 0.9 = \\sigma_{p,\\rho=0.9}^2</span>\n\nIn other words: <span class=\"mathquill\">\\sigma_{p,\\rho=1.0}^2 > \\sigma_{p,\\rho=0.9}^2</span>  \nwhich implies that <span class=\"mathquill\">\\sigma_{p,\\rho=1.0} > \\sigma_{p,\\rho=0.9}</span>\n\nThe nice benefit of putting two stocks into a portfolio is that, as long as they’re not perfectly correlated, we’ll end up with a portfolio whose risk is less than the the weighted sum of the individual risks.  A key benefit of portfolio diversification is that it helps us to reduce risk!\n",
              "instructor_notes": ""
            }
          ]
        },
        {
          "id": 667687,
          "key": "41b75121-de4e-42ed-879d-ab65b8b19f5b",
          "title": "Variance of a 3-Asset Portfolio",
          "semantic_type": "Concept",
          "is_public": true,
          "user_state": {
            "node_key": "41b75121-de4e-42ed-879d-ab65b8b19f5b",
            "completed_at": null,
            "last_viewed_at": null,
            "unstructured": null
          },
          "resources": null,
          "atoms": [
            {
              "id": 667702,
              "key": "2d0bd09e-7c3c-40e5-84ef-addb3e0cff19",
              "title": "Variance of a 3-Asset Portfolio",
              "semantic_type": "RadioQuizAtom",
              "is_public": true,
              "instructor_notes": null,
              "user_state": {
                "node_key": "2d0bd09e-7c3c-40e5-84ef-addb3e0cff19",
                "completed_at": null,
                "last_viewed_at": null,
                "unstructured": null
              },
              "question": {
                "prompt": "What is the variance of a portfolio with 3 assets, A, B and C, with weights <span class=\"mathquill\">x_A</span>, <span class=\"mathquill\">x_B</span>, and <span class=\"mathquill\">x_C</span>?",
                "answers": [
                  {
                    "id": "a1530228682435",
                    "text": "<span class=\"mathquill\">x_Aσ_A^2 + x_Bσ_B^2 + x_Cσ_C^2 + 2x_Ax_B\\mathrm{Cov}(r_A, r_B) + 2x_Ax_C\\mathrm{Cov}(r_A, r_C) + 2x_Bx_C\\mathrm{Cov}(r_B, r_C)</span>",
                    "is_correct": false
                  },
                  {
                    "id": "a1530228736144",
                    "text": "<span class=\"mathquill\">x_A^2σ_A^2 + x_B^2σ_B^2 + x_C^2σ_C^2 + 2x_Ax_B\\mathrm{Cov}(r_A, r_B) + 2x_Ax_C\\mathrm{Cov}(r_A, r_C) + 2x_Bx_C\\mathrm{Cov}(r_B, r_C)</span>",
                    "is_correct": true
                  },
                  {
                    "id": "a1530228736945",
                    "text": "<span class=\"mathquill\">{\\tiny x_A^2σ_A^2 + x_B^2σ_B^2 + x_C^2σ_C^2 + 2x_Ax_B\\mathrm{Cov}(r_A, r_B) + 2x_Ax_C\\mathrm{Cov}(r_A, r_C) + 2x_Bx_C\\mathrm{Cov}(r_B, r_C) + 8x_Ax_Bx_C\\mathrm{Cov}(r_A, r_B)\\mathrm{Cov}(r_B, r_C)\\mathrm{Cov}(r_A, r_C)}</span>",
                    "is_correct": false
                  },
                  {
                    "id": "a1530228737528",
                    "text": "<span class=\"mathquill\">{1 + x_A^2σ_A^2 + x_B^2σ_B^2 + x_C^2σ_C^2 + x_Ax_B\\mathrm{Cov}(r_A, r_B) + x_Ax_C\\mathrm{Cov}(r_A, r_C) + x_Bx_C\\mathrm{Cov}(r_B, r_C)}</span>",
                    "is_correct": false
                  }
                ]
              }
            }
          ]
        },
        {
          "id": 667686,
          "key": "456f5c2e-e93e-447c-8bbb-b83c84ab8a68",
          "title": "The Covariance Matrix and Quadratic Forms",
          "semantic_type": "Concept",
          "is_public": true,
          "user_state": {
            "node_key": "456f5c2e-e93e-447c-8bbb-b83c84ab8a68",
            "completed_at": null,
            "last_viewed_at": null,
            "unstructured": null
          },
          "resources": null,
          "atoms": [
            {
              "id": 677249,
              "key": "83e0dd41-ef83-43c1-887b-35a438fcc262",
              "title": "L3 06 The Covariance Matrix And Quadratic Forms V1",
              "semantic_type": "VideoAtom",
              "is_public": true,
              "instructor_notes": "",
              "video": {
                "youtube_id": "as5lafBZ2CA",
                "china_cdn_id": "as5lafBZ2CA.mp4"
              }
            },
            {
              "id": 667713,
              "key": "8f63a00b-2425-484c-bc1d-c3e01c9adf13",
              "title": null,
              "semantic_type": "TextAtom",
              "is_public": true,
              "text": "## The Covariance Matrix\n\nLet's take a moment to learn a compact way to represent the portfolio variance using matrices and vectors.\n\nRemember that the portfolio variance we calculated for our two-stock portfolio was:\n\n <div class=\"mathquill\">\\sigma_P^2 = x_A^2\\sigma_A^2 + x_B^2\\sigma_B^2 + 2x_Ax_B\\mathrm{Cov}(r_A,r_B).</div>\n\nBut <div class=\"mathquill\"> \\sigma_A^2 = \\mathrm{Cov}(r_A,r_A),</div> so \n\n <div class=\"mathquill\">\\sigma_P^2 = x_A^2\\mathrm{Cov}(r_A,r_A)  + x_B^2\\mathrm{Cov}(r_B,r_B) + 2x_Ax_B\\mathrm{Cov}(r_A,r_B).</div>\n\nThis expression now has a nice parallel structure. If we create a matrix called the covariance matrix, <div class=\"mathquill\">\\mathbf{P} = \\begin{bmatrix}\n\\mathrm{Cov}(r_A,r_A) & \\mathrm{Cov}(r_A,r_B)\\\\ \n\\mathrm{Cov}(r_B,r_A) & \\mathrm{Cov}(r_B,r_B)\n\\end{bmatrix},</div>\n\nand a vector of weights: <div class=\"mathquill\">\\mathbf{x} = \\begin{bmatrix}\nx_A \\\\ \nx_B\n\\end{bmatrix},</div>\n\nand do the following matrix multiplication:\n\n<div class=\"mathquill\">\\begin{bmatrix}\nx_A & x_B\n\\end{bmatrix}\n\\begin{bmatrix}\n\\mathrm{Cov}(r_A,r_A) & \\mathrm{Cov}(r_A,r_B)\\\\ \n\\mathrm{Cov}(r_B,r_A) & \\mathrm{Cov}(r_B,r_B)\n\\end{bmatrix}\n\\begin{bmatrix}\nx_A \\\\ \nx_B\n\\end{bmatrix}</div>\n\n<div class=\"mathquill\">= \\begin{bmatrix}\nx_A & x_B\n\\end{bmatrix}\n\\begin{bmatrix}\nx_A\\mathrm{Cov}(r_A,r_A) + x_B \\mathrm{Cov}(r_A,r_B)\\\\ \nx_A\\mathrm{Cov}(r_B,r_A) + x_B\\mathrm{Cov}(r_B,r_B)\n\\end{bmatrix}\n</div>\n\n<div class=\"mathquill\">=x_Ax_A\\mathrm{Cov}(r_A,r_A)  + x_Ax_B\\mathrm{Cov}(r_A,r_B) + x_Ax_B\\mathrm{Cov}(r_A,r_B) + x_Bx_B\\mathrm{Cov}(r_B,r_B)</div>\n\n <div class=\"mathquill\">= x_A^2\\sigma_A^2 + x_B^2\\sigma_B^2 + 2x_Ax_B\\mathrm{Cov}(r_A,r_B),\n</div>\n\nwe see that we recover the expression for <span class=\"mathquill\">\\sigma_P^2</span>.\n\n### So: <div class=\"mathquill\">\\sigma_P^2 = \\mathbf{x}^\\mathrm{T}\\mathbf{P}\\mathbf{x}</div>\n\n## Quadratic Forms\n\nA polynomial where the sums of the exponents of the variables in each term equals 2 is called a quadratic form. An example:\n\n<div class=\"mathquill\">4x^2 - 2xy + 3y^2</div>\n\nThe portfolio variance is an example of a quadratic form (remember, <span class=\"mathquill\">x_A</span> and <span class=\"mathquill\">x_B</span> are the variables here):\n\n<div class=\"mathquill\">\\sigma_P^2 = x_A^2\\sigma_A^2 + x_B^2\\sigma_B^2 + 2x_Ax_B\\mathrm{Cov}(r_A,r_B)\n</div>\n\n A quadratic form can always been written as <span class=\"mathquill\"> \\mathbf{x}^\\mathrm{T}\\mathbf{P}\\mathbf{x}</span>, where P is a symmetric matrix.",
              "instructor_notes": ""
            }
          ]
        },
        {
          "id": 667693,
          "key": "990419da-0aaa-4bed-91d7-d2366b3bd512",
          "title": "Calculate a Covariance Matrix",
          "semantic_type": "Concept",
          "is_public": true,
          "user_state": {
            "node_key": "990419da-0aaa-4bed-91d7-d2366b3bd512",
            "completed_at": null,
            "last_viewed_at": null,
            "unstructured": null
          },
          "resources": null,
          "atoms": [
            {
              "id": 667719,
              "key": "7097e774-0dc5-43f3-9aa2-2337f1a50cdd",
              "title": null,
              "semantic_type": "TextAtom",
              "is_public": true,
              "text": "## Calculate a Covariance Matrix\nRemember how we defined the covariance matrix: \n\n<div class=\"mathquill\">\\mathbf{P} = \\begin{bmatrix}\n\\mathrm{Cov}(r_A,r_A) & \\mathrm{Cov}(r_A,r_B)\\\\ \n\\mathrm{Cov}(r_B,r_A) & \\mathrm{Cov}(r_B,r_B)\n\\end{bmatrix}.</div>\n\nAnd covariance is <div class=\"mathquill\">\\mathrm{Cov}(r_A,r_B) = \\mathrm{E}[(r_A - \\bar{r}_A)(r_B - \\bar{r}_B)].</div>\n\nIf <span class=\"mathquill\">r_A</span> and <span class=\"mathquill\">r_B</span> are discrete vectors of values, that is, they can take on the values <span class=\"mathquill\">(r_{Ai}, r_{Bi})</span> for <span class=\"mathquill\">i = 1,\\ldots, n</span>, with equal probabilities 1/n, then the covariance can be equivalently written,\n\n<div class=\"mathquill\">= \\frac{1}{n-1}\\sum_{i=1}^n(r_{Ai} - \\bar{r}_A)(r_{Bi} - \\bar{r}_B).</div>\n\nWe use <span class=\"mathquill\">n-1</span> in the denominator of the constant for the same reason that we use <span class=\"mathquill\">n-1</span> in the denominator of the constant out front in the sample standard deviation—because we have a sample, and we want to calculate an _unbiased_ estimate of the population covariance.\n\nBut if <span class=\"mathquill\">\\bar{r}_A = \\bar{r}_B = 0</span>, then the covariance equals\n\n<div class=\"mathquill\">= \\frac{1}{n-1}\\sum_{i=1}^nr_{Ai}r_{Bi}.</div>\n\nIn matrix notation, this equals <div class=\"mathquill\">\\frac{1}{n-1}\\mathbf{r}_A^\\mathrm{T}\\mathbf{r}_B.</div>\n\nTherefore, if <span class=\"mathquill\">\\mathbf{r}</span> is a matrix that contains the vectors <span class=\"mathquill\">\\mathbf{r}_A</span> and <span class=\"mathquill\">\\mathbf{r}_B</span> as its columns,\n\n<div class=\"mathquill\">\\mathbf{r} = \\begin{bmatrix}\n\\vdots & \\vdots\\\\ \n\\mathbf{r}_A & \\mathbf{r}_B\\\\ \n\\vdots & \\vdots\n\\end{bmatrix},</div>\n\nthen <div class=\"mathquill\">\\mathbf{r}^\\mathrm{T}\\mathbf{r} = \\begin{bmatrix}\n\\cdots & \\mathbf{r}_A & \\cdots\\\\ \n\\cdots & \\mathbf{r}_B & \\cdots\n\\end{bmatrix} \n\\begin{bmatrix}\n\\vdots & \\vdots\\\\ \n\\mathbf{r}_A & \\mathbf{r}_B\\\\ \n\\vdots & \\vdots\n\\end{bmatrix} = \\begin{bmatrix}\n\\mathbf{r}_A^\\mathrm{T}\\mathbf{r}_A & \\mathbf{r}_A^\\mathrm{T}\\mathbf{r}_B\\\\ \n\\mathbf{r}_B^\\mathrm{T}\\mathbf{r}_A & \\mathbf{r}_B^\\mathrm{T}\\mathbf{r}_B\n\\end{bmatrix}.</div>\n\nSo if each vector of observations in your data matrix has mean 0, you can calculate the covariance matrix as:\n\n### <div class=\"mathquill\">\\frac{1}{n-1}\\mathbf{r}^\\mathrm{T}\\mathbf{r}</div>",
              "instructor_notes": ""
            }
          ]
        },
        {
          "id": 679912,
          "key": "cacd3245-79bc-4e16-8198-78c49b3d5e87",
          "title": "Quiz: np.cov",
          "semantic_type": "Concept",
          "is_public": true,
          "user_state": {
            "node_key": "cacd3245-79bc-4e16-8198-78c49b3d5e87",
            "completed_at": null,
            "last_viewed_at": null,
            "unstructured": null
          },
          "resources": null,
          "atoms": [
            {
              "id": 679913,
              "key": "765c6495-fa62-4546-9bb8-d99a0db9502e",
              "title": null,
              "semantic_type": "WorkspaceAtom",
              "is_public": true,
              "workspace_id": "viewHkg4a8hkEm",
              "pool_id": "jupyter",
              "view_id": "jupyter-B146InyEQ",
              "gpu_capable": false,
              "configuration": {
                "id": "reserved",
                "blueprint": {
                  "conf": {
                    "disk": null,
                    "ports": [],
                    "allowSubmit": false,
                    "defaultPath": "/notebooks/m3l4_covariance.ipynb"
                  },
                  "kind": "jupyter"
                },
                "workspaceId": "reserved"
              },
              "starter_files": null
            }
          ]
        },
        {
          "id": 667688,
          "key": "97f79f3e-c6df-41cd-ad85-12986d857b98",
          "title": "The Efficient Frontier",
          "semantic_type": "Concept",
          "is_public": true,
          "user_state": {
            "node_key": "97f79f3e-c6df-41cd-ad85-12986d857b98",
            "completed_at": null,
            "last_viewed_at": null,
            "unstructured": null
          },
          "resources": null,
          "atoms": [
            {
              "id": 695360,
              "key": "9f40c410-e76a-469e-9666-3b0d00b6275b",
              "title": "L3 08 The Efficient Frontier V3",
              "semantic_type": "VideoAtom",
              "is_public": true,
              "instructor_notes": "",
              "video": {
                "youtube_id": "tEEyhU23bI4",
                "china_cdn_id": "tEEyhU23bI4.mp4"
              }
            },
            {
              "id": 680792,
              "key": "5514035e-a677-4fff-95d4-f7f116367348",
              "title": null,
              "semantic_type": "TextAtom",
              "is_public": true,
              "text": "## Efficient Frontier\nThe efficient frontier for a given set of stocks gives us the set of portfolios that achieve the highest return for each level of risk.  The efficient frontier also contains the set of portfolios that achieve the lowest level of risk for each level of return.  We refer to these portfolios along the efficient frontier as market portfolios.  As portfolio managers, we would be interested in finding the weights for each stock that create these market portfolios on the efficient frontier.\n\n## Minimum Variance Portfolio\nThe minimum variance portfolio is a single portfolio in the efficient frontier that has the lowest risk.\n",
              "instructor_notes": ""
            }
          ]
        },
        {
          "id": 667689,
          "key": "452f1327-ff5d-47fc-a5f2-6c6cab77acf8",
          "title": "Capital Market Line",
          "semantic_type": "Concept",
          "is_public": true,
          "user_state": {
            "node_key": "452f1327-ff5d-47fc-a5f2-6c6cab77acf8",
            "completed_at": null,
            "last_viewed_at": null,
            "unstructured": null
          },
          "resources": null,
          "atoms": [
            {
              "id": 677251,
              "key": "48dd8c48-17ff-4e94-bec0-78ab854ad37f",
              "title": "L3 09 Capital Market Line V2",
              "semantic_type": "VideoAtom",
              "is_public": true,
              "instructor_notes": "",
              "video": {
                "youtube_id": "BRO-vo3y0-U",
                "china_cdn_id": "BRO-vo3y0-U.mp4"
              }
            },
            {
              "id": 679970,
              "key": "9fef39b6-dd99-4899-a04f-220f82045178",
              "title": null,
              "semantic_type": "TextAtom",
              "is_public": true,
              "text": "## Treasury Securities\n\nTreasury securities are IOUs from a government. They are government debt instruments used to finance government spending as an alternative to taxation. In the case of stable governments, they are considered relatively risk-free. In the U.S., **Treasury bills** mature in 1 year or less, **Treasury notes** mature in 2 to 10 years, and **Treasury bonds** mature in 20 to 30 years. \n",
              "instructor_notes": ""
            }
          ]
        },
        {
          "id": 667717,
          "key": "000fd766-4619-44ef-829c-ea00d5339ad2",
          "title": "The Sharpe Ratio",
          "semantic_type": "Concept",
          "is_public": true,
          "user_state": {
            "node_key": "000fd766-4619-44ef-829c-ea00d5339ad2",
            "completed_at": null,
            "last_viewed_at": null,
            "unstructured": null
          },
          "resources": null,
          "atoms": [
            {
              "id": 668085,
              "key": "e6486f72-a306-4ba8-9bdb-2851e821e7b4",
              "title": null,
              "semantic_type": "TextAtom",
              "is_public": true,
              "text": "## The Sharpe Ratio\n\nThe Sharpe ratio is the **ratio of reward to volatility**. It's a popular way to look at the performance of an asset relative to its risk. \n\n<span class=\"mathquill\">\\mathrm{Sharpe\\;Ratio} = \\large \\frac{r_{\\mathrm{risky\\;portfolio}}-r_{\\mathrm{risk\\;free}}}{\\sigma_{\\mathrm{excess\\;return}}}</span>\n\nThe numerator of the Sharpe ratio is called the _excess return_, _differential return_ as well as the _risk premium_.  It’s called “excess return” because this is the return in excess of the risk-free rate.  It’s also called the “risk premium”, because this represents the premium that investors should be rewarded with for taking on risk.\n\nThe denominator is the volatility of the excess return.\n\nHow do you calculate this? The _risk premium_ (which we’ll denote with _D_) equals the portfolio return minus risk free rate over a period of time:\n\n<span class=\"mathquill\">D_t = r_{\\mathrm{portfolio},\\; t} - r_{\\mathrm{risk\\;free},\\; t}</span>\n\nThen, calculate the mean and standard deviation of <span class=\"mathquill\">D_t</span> over the historical period from <span class=\"mathquill\">t = 1</span> to <span class=\"mathquill\">T</span>:\n\n<span class=\"mathquill\">D_{average} = \\frac{1}{T}\\sum_{t=1}^T D_t</span> \n<span class=\"mathquill\">\\;\\;\\;\\;\\;\\;\\;\\;\\;\\;\\sigma_{D} = \\sqrt{\\frac{\\sum_{t=1}^T(D_t- D_{average})^2}{T-1}}</span>\n\n<span class=\"mathquill\">\\mathrm{Sharpe\\;Ratio} = \\frac{D_{average}}{\\sigma_D}</span>\n\nAs we saw previously, the Sharpe Ratio is the slope of the _Capital Market Line_.\n\nThe Sharpe Ratio allows us to compare stocks of different returns, because the Sharpe ratio adjusts the returns by their level of risk.\n\n[Note that if you do not see some fractions displaying as expected, please try to zoom in with your browser]\n",
              "instructor_notes": ""
            },
            {
              "id": 668155,
              "key": "6674cd24-e94e-407b-856d-27a88d89537d",
              "title": null,
              "semantic_type": "TextAtom",
              "is_public": true,
              "text": "## Annualized Sharpe Ratio\n\nPlease keep in mind that the Sharpe Ratio depends on the time period over which it is measured, and it’s normally annualized. You annualize it in the same way you annualize volatility. (If you need a refresher on annualization, please refer to the video on annualization within the lesson on volatility) For example,\n\n<span class=\"mathquill\">\\mathrm{Sharpe\\;Ratio}_{\\mathrm{year}} = \\sqrt{252}\\;\\mathrm{Sharpe\\;Ratio}_{\\mathrm{day}}</span>\n\nLet’s see where the square root of 252 trading days comes from by annualizing the risk premium in the numerator, and then annualizing the standard deviation in the denominator.  Then we’ll put these two together as the annualized Sharpe Ratio.\n\nTo annualize daily risk premium <span class=\"mathquill\">(r_p - r_f)</span>, we add the daily return 252 times, or more simply multiply by 252.\n<span class=\"mathquill\">D_{year} = 252 \\times D_{day}</span>\n\nTo annualize the daily standard deviation, let’s first annualize the daily variance.  To annualize daily variance, we add <span class=\"mathquill\">\\sigma_D^2</span> 252 times, or more simply multiply it by 252. \n<span class=\"mathquill\">\\sigma_{D, year}^2 = 252 \\times \\sigma_{D,day}^2</span>\n\nThe standard deviation is the square root of the variance, which is  \n<span class=\"mathquill\">\\sqrt[2]{252 \\times \\sigma_D^2}</span>,  \nor just <span class=\"mathquill\">\\sqrt[2]{252} \\times \\sigma_D^2</span>\n\nIn other words:  \n<span class=\"mathquill\">\\sigma_{D, year} = \\sqrt[2]{252} \\times \\sigma_{D,day}</span>\n\nIf we combine the annualization factors of the numerator and denominator, this becomes:  \n<span class=\"mathquill\">\\frac{252}{\\sqrt[2]{252}}</span>  \nwhich simplifies to <span class=\"mathquill\">\\sqrt[2]{252}</span>\n\nSo to convert the Sharpe ratio from daily to annual, we multiply by <span class=\"mathquill\">\\sqrt[2]{252}</span>.\n\nTherefore:  \n<span class=\"mathquill\">\\mathrm{Sharpe\\;Ratio}_{\\mathrm{year}} = \\sqrt{252}\\;\\mathrm{Sharpe\\;Ratio}_{\\mathrm{day}}</span>\n",
              "instructor_notes": ""
            },
            {
              "id": 668213,
              "key": "2db7851d-cfb3-49c5-b8f1-aa1e7cb479a5",
              "title": null,
              "semantic_type": "TextAtom",
              "is_public": true,
              "text": "## More Information\n\n[This link](http://web.stanford.edu/~wfsharpe/art/sr/sr.htm) gives more information on the Sharpe Ratio from its originator, William Sharpe, Professor of Finance, Emeritus at Stanford University's Graduate School of Business.",
              "instructor_notes": ""
            }
          ]
        },
        {
          "id": 668153,
          "key": "e3e62e77-11f7-4178-90e9-c26b40730f15",
          "title": "Other Risk Measures",
          "semantic_type": "Concept",
          "is_public": true,
          "user_state": {
            "node_key": "e3e62e77-11f7-4178-90e9-c26b40730f15",
            "completed_at": null,
            "last_viewed_at": null,
            "unstructured": null
          },
          "resources": null,
          "atoms": [
            {
              "id": 680802,
              "key": "c329cfcf-e09a-433c-935b-ea418835923f",
              "title": null,
              "semantic_type": "TextAtom",
              "is_public": true,
              "text": "## Other Risk Measures\nThere are other ways to measure risk besides standard deviation.  Two other common risk measures are semi-deviation and Value-at-Risk (written as VaR).\n\n## Semi-Deviation\nIf you were given two stocks, one that continued to increase by 10% every day, and one that decreased by 10% every day, would you intuitively think that one stock was more risky than the other?  Standard deviation measures of risk would give these two stocks the same level of risk, but you might think that investors are more worried about down-side risk (when stocks decline), rather than upside risk.    The motivation for semi-deviation measure of risk is to measure downside risk specifically, rather than any kind of volatility.\n\nSemi-deviation is calculated in a similar way as standard deviation, except it only includes observations that are less than the mean.\n\n<span class=\"mathquill\">SemiDeviation = \\sum_{t=1}^{n}(\\mu - r_i)^2 \\times I_{r_i<\\mu}</span>  \nwhere <span class=\"mathquill\">I_{r_i < \\mu}</span> equals 1 when <span class=\"mathquill\">r_i < \\mu</span>, and 0 otherwise.\n",
              "instructor_notes": ""
            },
            {
              "id": 680803,
              "key": "ccf47fc4-92ca-46d0-b7e7-ee8f9c1c0980",
              "title": null,
              "semantic_type": "TextAtom",
              "is_public": true,
              "text": "## Value-at-Risk (VaR)\n\nVaR, or value-at-risk is a portfolio risk measure.  Risk managers at investment firms and investment banks calculate VaR to estimate how much money a portfolio manager’s fund may potentially lose over a certain time period.  Corporations also estimate their own VaR to decide how much cash they should hold to avoid bankruptcy during a worst case scenario.\n\nVaR is defined as the maximum dollar amount expected to be lost over a given time horizon at a predefined confidence level.  For example, if the 95% one month VaR is $1 million, there is 95% confidence that the portfolio will not lose more than $1 million next month.  Another way to describe the VaR is that there is a 5% chance of losing $1 million or more next month.  The methods for calculating VaR are beyond the scope of this lesson, but if you ever become a risk manager, or ever work with a risk manager, you’ll probably see Value-at-Risk quite a bit.\n\nFor a visual representation of VaR, we can look at a data distribution that represents the rate of return of a stock.  If we color in the area in the left tail that represents 5% of the distribution, the rate of return represented by that point on the horizontal axis is the rate of return that may occur in the 5% worst case scenario.  To convert that to a VaR, we multiply that rate of return by the amount of capital that is exposed to risk.  For a portfolio, it would be the amount of dollars invested in that particular stock.  \n\nAs an example, let’s say we invested $10 million in a stock.  We estimate the mean and standard deviation of the stock’s returns and model it with a distribution function (it might be a normal distribution, but there are other models).  Then we find the rate of return that defines 5% of the distribution to its left, in the left tail.  Let’s say that rate of return is -20%. We multiply that rate of return by the amount that we’re exposed to, which is <span class=\"mathquill\">-0.20 \\times \\$10 million = -\\$2 million</span>.  So the VaR on any given day is $2 million.  In other words, we may plan some hedging strategies or hold enough cash to help us handle the possibility of losing $2 million on stock A on any given day.\nFor more detail, and an image of the distribution, check out Wikipedia’s page on [Value-at-Risk](https://en.wikipedia.org/wiki/Value_at_risk)",
              "instructor_notes": ""
            },
            {
              "id": 680810,
              "key": "233d1369-7cfd-4f7e-b104-de28e19b4824",
              "title": null,
              "semantic_type": "ImageAtom",
              "is_public": true,
              "url": "https://video.udacity-data.com/topher/2018/July/5b553f5a_var-diagram/var-diagram.jpg",
              "non_google_url": "https://s3.cn-north-1.amazonaws.com.cn/u-img/233d1369-7cfd-4f7e-b104-de28e19b4824",
              "caption": "",
              "alt": "",
              "width": 911,
              "height": 620,
              "instructor_notes": null
            },
            {
              "id": 680811,
              "key": "6a017c2f-46a7-4634-8413-6d8462f10aab",
              "title": null,
              "semantic_type": "TextAtom",
              "is_public": true,
              "text": "This diagram of VaR is from Wikipedia's page on [Value at Risk](https://en.wikipedia.org/wiki/Value_at_risk)",
              "instructor_notes": ""
            }
          ]
        },
        {
          "id": 667690,
          "key": "1eed112c-65f9-4a09-ae30-1df0106fbd13",
          "title": "The Capital Assets Pricing Model",
          "semantic_type": "Concept",
          "is_public": true,
          "user_state": {
            "node_key": "1eed112c-65f9-4a09-ae30-1df0106fbd13",
            "completed_at": null,
            "last_viewed_at": null,
            "unstructured": null
          },
          "resources": null,
          "atoms": [
            {
              "id": 669206,
              "key": "af30588a-627e-43b4-ac35-63d4582632d3",
              "title": null,
              "semantic_type": "TextAtom",
              "is_public": true,
              "text": "## Capital Asset Pricing Model\nIn addition to the Capital Market Line, we will further introduce another important concept:  the Capital Asset Pricing Model which is also called CAPM and pronounced “cap M”.\n\nThe CAPM is a model that describes the relationship between systematic risk and expected return for assets.  The CAPM assumes that the excess return of a stock is determined by the market return and the stock’s relationship with the market’s movement.  It is the foundation of the more advanced multi-factor models used by portfolio managers for portfolio construction.\n\nOk, let’s quickly recap: the systematic risk, or market risk, is undiversifiable risk that’s inherent to the entire market.  In contrast, the idiosyncratic risk is the asset-specific risk. \n\n\nOk, let’s take a look at CAPM.  For a stock, the return of stock <span class=\"mathquill\">i</span> equals the return of the risk free asset plus <span class=\"mathquill\">\\beta</span> times the difference between the market return and the risk free return.  <span class=\"mathquill\">\\beta</span> equals the covariance of stock <span class=\"mathquill\">i</span> and the market divided by the variance of the market.  \n\n<span class=\"mathquill\">r_i - r_{f} = \\beta \\times (r_{m} - r_{f})</span>\n\n<span class=\"mathquill\">r_i</span> = stock return  \n<span class=\"mathquill\">r_{f}</span> = risk free rate  \n<span class=\"mathquill\">r_{m}</span> = market return  \n<span class=\"mathquill\">\\beta_i = \\frac{cov(r_i,r_{m})}{\\sigma^2_{m}}</span>  \n\n<span class=\"mathquill\">\\beta</span> describes which direction and by how much a stock or portfolio moves relative to the market.  For example, if a stock has a <span class=\"mathquill\">\\beta</span> of 1, this indicates that if the market’s excess return is 5%, the stock’s excess return would also be 5%.  If a stock has a <span class=\"mathquill\">\\beta</span> of 1.1, this indicates that if the market’s excess return is 5%, the stock’s excess return would be 1.1 <span class=\"mathquill\">\\times</span> 5%, or 5.5%.\n",
              "instructor_notes": ""
            },
            {
              "id": 680804,
              "key": "207d0e8f-7670-429a-b9f2-717a39279108",
              "title": null,
              "semantic_type": "TextAtom",
              "is_public": true,
              "text": "## Compensating Investors for Risk\nGenerally speaking, investors need to be compensated in two ways: time value of money and risk.  The time value of money is represented by the risk free return.  This is the  compensation to investors for putting down investments over a period of time.   <span class=\"mathquill\">\\beta</span> times <span class=\"mathquill\">r_m - r_f</span> represents the risk exposure to the market.  It is the additional excess return the investor would require for taking on the given market exposure, <span class=\"mathquill\">\\beta</span>.  <span class=\"mathquill\">r_m- r_f</span> is the risk premium, and <span class=\"mathquill\">\\beta</span> reflects the exposure of an asset to the overall market risk.  \n\nWhen the <span class=\"mathquill\">\\beta_i</span> for stock <span class=\"mathquill\">i</span> equals 1, stock <span class=\"mathquill\">i</span> moves up and down with the same magnitude as the market.  When <span class=\"mathquill\">\\beta_i</span> is greater than 1, stock <span class=\"mathquill\">i</span> moves up and down more than the market.  In contrast, when <span class=\"mathquill\">\\beta_i</span> is less than 1, stock <span class=\"mathquill\">i</span> moves up and down less than the market.\n\nLet’s look at a simple example.  If the risk free return is 2%, <span class=\"mathquill\">\\beta_i</span> of stock <span class=\"mathquill\">i</span> equals 1.2 and the market return is 10%.  The return of stock <span class=\"mathquill\">i</span> equals 2% + 1.2 <span class=\"mathquill\">\\times</span> (10% - 2%) = 11.6.\n\n<span class=\"mathquill\">r_f</span> = 2%  \n<span class=\"mathquill\">\\beta_i</span> = 1.2  \n<span class=\"mathquill\">r_m </span>= 10%  \n<span class=\"mathquill\">r_i</span> = 2% + 1.2<span class=\"mathquill\"> \\times</span> (10% - 2%) = 11.6%\n",
              "instructor_notes": ""
            },
            {
              "id": 680806,
              "key": "60dbe6da-3038-4473-8abc-ea68803ef55b",
              "title": null,
              "semantic_type": "TextAtom",
              "is_public": true,
              "text": "## Security Market Line\nThe Security Market Line is the graphical representation of CAPM and it represents the relation between the risk and return of stocks.  Please note that it is different from the capital market line.  The y-axis is expected returns but the x-axis is beta.  (You may recall that for the capital market line that we learned earlier, the x-axis was standard deviation of a portfolio.)  As beta increases, the level of risk increases.  Hence, the investors demand higher returns to compensate risk.  \n\nThe Security Market Line is commonly used to evaluate if a stock should be included in a portfolio.  At time points when the stock is above the security market line, it is considered “undervalued” because the stock offers a greater return against its systematic risk.  In contrast, when the stock is below the line, it is considered overvalued because the expected return does not overcome the inherent risk.  \nThe SML is also used to compare similar securities with approximately similar returns or similar risks.  \n\nThis image is from Wikipedia’s page on [security market line](https://en.wikipedia.org/wiki/Security_market_line)\n",
              "instructor_notes": ""
            },
            {
              "id": 680807,
              "key": "39b2e9b3-a307-4f15-a2be-c0eb7daa6dd1",
              "title": null,
              "semantic_type": "ImageAtom",
              "is_public": true,
              "url": "https://video.udacity-data.com/topher/2018/July/5b553da4_sml-chart/sml-chart.png",
              "non_google_url": "https://s3.cn-north-1.amazonaws.com.cn/u-img/39b2e9b3-a307-4f15-a2be-c0eb7daa6dd1",
              "caption": "",
              "alt": "",
              "width": 574,
              "height": 469,
              "instructor_notes": null
            }
          ]
        },
        {
          "id": 667691,
          "key": "bb149d4c-6cfd-45f6-be14-f4a698ed5e9e",
          "title": "Quiz: Portfolio Return with a 3-Asset Portfolio",
          "semantic_type": "Concept",
          "is_public": true,
          "user_state": {
            "node_key": "bb149d4c-6cfd-45f6-be14-f4a698ed5e9e",
            "completed_at": null,
            "last_viewed_at": null,
            "unstructured": null
          },
          "resources": null,
          "atoms": [
            {
              "id": 669204,
              "key": "984b20d5-0e2c-4cd6-9708-df3ecb708ab7",
              "title": null,
              "semantic_type": "TextAtom",
              "is_public": true,
              "text": "## CAPM\nRemember that to use CAPM to calculate the return of a portfolio, you can use the following formula:\n\n<span class=\"mathquill\">r_p = \\sum_i^nw_i(r_f + \\beta_i(r_m - r_f))</span>\n\nand the <span class=\"mathquill\">\\beta</span> of the portfolio equals:\n\n<span class=\"mathquill\">\\beta_p = \\sum_i^nw_i\\beta_i</span>",
              "instructor_notes": ""
            },
            {
              "id": 669205,
              "key": "076c2aab-f298-4d3b-8a44-1b29a249c3f4",
              "title": "",
              "semantic_type": "RadioQuizAtom",
              "is_public": true,
              "instructor_notes": null,
              "user_state": {
                "node_key": "076c2aab-f298-4d3b-8a44-1b29a249c3f4",
                "completed_at": null,
                "last_viewed_at": null,
                "unstructured": null
              },
              "question": {
                "prompt": "What is the return and the beta of a 3 stock portfolio with the following information:\n<span class=\"mathquill\">r_f = 2\\%,\\; r_m = 10\\%,\\; \\beta_A = 1.2,\\; \\beta_B = 1.8,\\; \\beta_C = 0.5,\\; w_A = 0.4,\\; w_B = 0.4,\\; w_C = 0.2</span>",
                "answers": [
                  {
                    "id": "a1530563540044",
                    "text": "<span class=\"mathquill\">r_p = 0.124,\\; \\beta_p =  1.3</span>",
                    "is_correct": true
                  },
                  {
                    "id": "a1530563595005",
                    "text": "<span class=\"mathquill\">r_p = 0.136,\\; \\beta_p =  1.4</span>",
                    "is_correct": false
                  },
                  {
                    "id": "a1530563611874",
                    "text": "<span class=\"mathquill\">r_p = 0.103,\\; \\beta_p =  1.04</span>",
                    "is_correct": false
                  },
                  {
                    "id": "a1530563634856",
                    "text": "<span class=\"mathquill\">r_p = 0.105,\\; \\beta_p =  1.06</span>",
                    "is_correct": false
                  }
                ]
              }
            }
          ]
        },
        {
          "id": 677252,
          "key": "5ecc8bb5-e0ea-43a1-a1c0-6f3dc3e02d3e",
          "title": "Summary",
          "semantic_type": "Concept",
          "is_public": true,
          "user_state": {
            "node_key": "5ecc8bb5-e0ea-43a1-a1c0-6f3dc3e02d3e",
            "completed_at": null,
            "last_viewed_at": null,
            "unstructured": null
          },
          "resources": null,
          "atoms": [
            {
              "id": 677253,
              "key": "9af454d2-128a-4411-aa06-845e8d803114",
              "title": "L3 13 Summary V1",
              "semantic_type": "VideoAtom",
              "is_public": true,
              "instructor_notes": "",
              "video": {
                "youtube_id": "I7XKJf8t_0s",
                "china_cdn_id": "I7XKJf8t_0s.mp4"
              }
            }
          ]
        }
      ]
    }
  },
  "_deprecated": [
    {
      "name": "non_google_url",
      "reason": "(2016/8/18) Not sure, ask i18n team for reason"
    },
    {
      "name": "non_google_url",
      "reason": "(2016/8/18) Not sure, ask i18n team for reason"
    }
  ]
}
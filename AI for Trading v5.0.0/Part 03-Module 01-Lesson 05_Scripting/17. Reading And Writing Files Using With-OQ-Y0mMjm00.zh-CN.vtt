WEBVTT
Kind: captions
Language: zh-CN

00:00:00.000 --> 00:00:04.169
用完某个文件后 很容易就忘记关闭文件

00:00:04.169 --> 00:00:08.214
因此 Python 提供了特殊的语法 可以自动关闭文件

00:00:08.214 --> 00:00:11.605
关键字 with 使你能够打开文件

00:00:11.605 --> 00:00:13.394
对文件执行操作

00:00:13.394 --> 00:00:17.960
并且在执行缩进的代码之后 自动关闭文件

00:00:17.960 --> 00:00:20.549
在此示例中是读取文件

00:00:20.550 --> 00:00:23.505
现在我们不需要调用 f.close

00:00:23.504 --> 00:00:26.309
代码“as f”

00:00:26.309 --> 00:00:30.524
将函数 open() 创建的文件对象赋值给这个变量名 f

00:00:30.524 --> 00:00:34.964
这行代码和这行代码几乎一样

00:00:34.965 --> 00:00:37.990
但是你只能在这个块中

00:00:37.990 --> 00:00:40.275
访问文件对象 f

00:00:40.274 --> 00:00:42.339
这是另一种作用域

00:00:42.340 --> 00:00:44.265
离开这个缩进块后

00:00:44.265 --> 00:00:48.594
文件被关闭 你无法再与其交互

00:00:48.594 --> 00:00:55.394
例如 像这样在此块外面尝试调用 f.read 会返回错误

00:00:55.395 --> 00:01:00.210
但是 关闭文件并不意味着数据丢失了

00:01:00.210 --> 00:01:03.750
现在 我们在这行读取该文件中的内容

00:01:03.750 --> 00:01:07.844
并获得这个文件数据字符串 其中具有文件中包含的文本

00:01:07.844 --> 00:01:11.174
在块外面调用文件数据并没出错

00:01:11.174 --> 00:01:17.000
我们可以对此文件数据字符串使用所有常规的字符串方法来处理其内容


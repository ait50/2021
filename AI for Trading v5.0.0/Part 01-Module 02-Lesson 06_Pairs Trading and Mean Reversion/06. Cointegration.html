<!-- udacimak v1.4.4 -->
<!DOCTYPE html>
<html lang="en">
 <head>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
  <meta content="ie=edge" http-equiv="X-UA-Compatible"/>
  <title>
   Cointegration
  </title>
  <link href="../assets/css/bootstrap.min.css" rel="stylesheet"/>
  <link href="../assets/css/plyr.css" rel="stylesheet"/>
  <link href="../assets/css/katex.min.css" rel="stylesheet"/>
  <link href="../assets/css/jquery.mCustomScrollbar.min.css" rel="stylesheet"/>
  <link href="../assets/css/styles.css" rel="stylesheet"/>
  <link href="../assets/img/udacimak.png" rel="shortcut icon" type="image/png">
  </link>
 </head>
 <body>
  <div class="wrapper">
   <nav id="sidebar">
    <div class="sidebar-header">
     <h3>
      Pairs Trading and Mean Reversion
     </h3>
    </div>
    <ul class="sidebar-list list-unstyled CTAs">
     <li>
      <a class="article" href="../index.html">
       Back to Home
      </a>
     </li>
    </ul>
    <ul class="sidebar-list list-unstyled components">
     <li class="">
      <a href="01. Intro.html">
       01. Intro
      </a>
     </li>
     <li class="">
      <a href="02. Mean Reversion.html">
       02. Mean Reversion
      </a>
     </li>
     <li class="">
      <a href="03. Pairs Trading.html">
       03. Pairs Trading
      </a>
     </li>
     <li class="">
      <a href="04. Finding Pairs to Trade.html">
       04. Finding Pairs to Trade
      </a>
     </li>
     <li class="">
      <a href="05. Quiz Identify Pairs to Trade.html">
       05. Quiz: Identify Pairs to Trade
      </a>
     </li>
     <li class="">
      <a href="06. Cointegration.html">
       06. Cointegration
      </a>
     </li>
     <li class="">
      <a href="07. ADF and roots.html">
       07. ADF and roots
      </a>
     </li>
     <li class="">
      <a href="08. Clustering Stocks.html">
       08. Clustering Stocks
      </a>
     </li>
     <li class="">
      <a href="09. Trade Pairs of Stocks.html">
       09. Trade Pairs of Stocks
      </a>
     </li>
     <li class="">
      <a href="10. Exercise finding pairs.html">
       10. Exercise: finding pairs
      </a>
     </li>
     <li class="">
      <a href="11. Variations of Pairs Trading and Mean Reversion Trading.html">
       11. Variations of Pairs Trading and Mean Reversion Trading
      </a>
     </li>
     <li class="">
      <a href="12. 3 or more stocks (optional).html">
       12. 3 or more stocks (optional)
      </a>
     </li>
     <li class="">
      <a href="13. Details of Johansen Test (optional).html">
       13. Details of Johansen Test (optional)
      </a>
     </li>
     <li class="">
      <a href="14. Summary.html">
       14. Summary
      </a>
     </li>
    </ul>
    <ul class="sidebar-list list-unstyled CTAs">
     <li>
      <a class="article" href="../index.html">
       Back to Home
      </a>
     </li>
    </ul>
   </nav>
   <div id="content">
    <header class="container-fluild header">
     <div class="container">
      <div class="row">
       <div class="col-12">
        <div class="align-items-middle">
         <button class="btn btn-toggle-sidebar" id="sidebarCollapse" type="button">
          <div>
          </div>
          <div>
          </div>
          <div>
          </div>
         </button>
         <h1 style="display: inline-block">
          06. Cointegration
         </h1>
        </div>
       </div>
      </div>
     </div>
    </header>
    <main class="container">
     <div class="row">
      <div class="col-12">
       <div class="ud-atom">
        <h3>
         <p>
          M2L6 09 Cointegration V6
         </p>
        </h3>
        <video controls="">
         <source src="06. M2L6 09 Cointegration V6-N4ZI5SyFMOc.mp4" type="video/mp4"/>
         <track default="true" kind="subtitles" label="en" src="06. M2L6 09 Cointegration V6-N4ZI5SyFMOc.en.vtt" srclang="en"/>
         <track default="false" kind="subtitles" label="zh-CN" src="06. M2L6 09 Cointegration V6-N4ZI5SyFMOc.zh-CN.vtt" srclang="zh-CN"/>
        </video>
       </div>
       <div class="divider">
       </div>
       <div class="ud-atom">
        <h3>
        </h3>
        <div>
         <h3 id="cointegration">
          Cointegration
         </h3>
         <p>
          A way to think about whether two stocks’ time series are cointegrated is to see if some linear combination of their time series forms a stationary series. In other words, let’s say
          <span class="mathquill ud-math">
           stock_1
          </span>
          and
          <span class="mathquill ud-math">
           stock_2
          </span>
          are non-stationary, but
          <span class="mathquill ud-math">
           w_1 \times stock_1 + w_2 \times stock_2
          </span>
          is a stationary series.  Then we can also say that
          <span class="mathquill ud-math">
           stock_1
          </span>
          and
          <span class="mathquill ud-math">
           stock_2
          </span>
          are cointegrated.
         </p>
         <h3 id="hedge-ratio">
          Hedge Ratio
         </h3>
         <p>
          We can perform a regression where
          <span class="mathquill ud-math">
           stock_2
          </span>
          is the dependent variable, and
          <span class="mathquill ud-math">
           stock_1
          </span>
          is the independent variable (it doesn’t matter which you choose to be x or y).  Then the regression coefficient, which is our hedge ratio, is effectively
          <span class="mathquill ud-math">
           \frac{w_1}{w_2}
          </span>
          .  You can see how multiplying
          <span class="mathquill ud-math">
           stock_1
          </span>
          by
          <span class="mathquill ud-math">
           \frac{w_1}{w_2}
          </span>
          is similar to multiply
          <span class="mathquill ud-math">
           stock_1
          </span>
          by
          <span class="mathquill ud-math">
           w_1
          </span>
          and
          <span class="mathquill ud-math">
           stock_2
          </span>
          with
          <span class="mathquill ud-math">
           w_2
          </span>
          ; in either case, we’re weighting each stock so that their linear combination produces a stationary series.
         </p>
         <h3 id="augmented-dickey-fuller-test">
          Augmented Dickey Fuller Test
         </h3>
         <p>
          To check if two series are cointegrated, we can use the Augmented Dickey Fuller (ADF) Test.  First, let’s get some intuition to see what the ADF test is doing.  It’s trying to determine if the linear combination of the two series, (which is also a time series) is stationary.
         </p>
         <p>
          A series is stationary when its mean and covariance are constant, and also when the autocorrelation between one time period and another only depends on the time duration between them, and not the specific point in time of each observation.
         </p>
         <p>
          If you could represent a series as an AR(1) model
          <span class="mathquill ud-math">
           y_t = \beta y_{t-1} + \epsilon_t
          </span>
          , let’s think about what happens if the
          <span class="mathquill ud-math">
           \beta
          </span>
          is greater than one.  We can imagine putting in a value for
          <span class="mathquill ud-math">
           y_{t-1}
          </span>
          to get an estimate for
          <span class="mathquill ud-math">
           y_t
          </span>
          ; then for the next day, we’ll use that value as
          <span class="mathquill ud-math">
           y_{t-1}
          </span>
          to put into the model and estimate the new
          <span class="mathquill ud-math">
           y_t
          </span>
          .  We’d end up having a series that trends in one direction, so its mean is not constant, and therefore it is not stationary.
         </p>
         <p>
          Next, if we had a
          <span class="mathquill ud-math">
           \beta
          </span>
          equal to one, then
          <span class="mathquill ud-math">
           y_t = y_{t-1} + \epsilon_t
          </span>
          .  We call this special case a random walk, and it means that the current price is equal to the previous price plus some white noise.  Even though the mean of this series is constant, its covariance between one time period and another depends upon the point in time of the observations, so it is also not stationary.
         </p>
         <p>
          Finally, if we had a
          <span class="mathquill ud-math">
           \beta
          </span>
          of less than one, then we notice that
          <span class="mathquill ud-math">
           y_t
          </span>
          depends upon less than 100% of the value of its previous value
          <span class="mathquill ud-math">
           y_{t-1}
          </span>
          , with some added random noise
          <span class="mathquill ud-math">
           \epsilon_t
          </span>
          .  The series doesn’t trend in a particular direction.  Its variance is also constant, and its covariance between any two data points doesn’t depend on the point in time of the data point.  You can think of the series like a bouncing rubber ball that’s being tapped lightly by random raindrops.  Without the rain, the bouncing ball would have smaller and smaller bounces, and eventually stop bouncing.  With random raindrops falling on the ball, some raindrops would make the ball bounce more, others would make the ball bounce less. So overall, the ball maintains a constant bounce height over time.
         </p>
         <p>
          So conceptually, the Augmented Dickey Fuller Test is a hypothesis test for which the null hypothesis is that a series is a random walk (its
          <span class="mathquill ud-math">
           \beta
          </span>
          is equal to one), and so the null hypothesis assumes that the series is not stationary.  The alternate hypothesis is that
          <span class="mathquill ud-math">
           \beta
          </span>
          is less than one, and therefore it’s a stationary series.  So if the ADF produces a p-value of 0.05 or less, we can say with a 95% confidence level that the series is stationary.
         </p>
        </div>
       </div>
       <div class="divider">
       </div>
      </div>
      <div class="col-12">
       <p class="text-right">
        <a class="btn btn-outline-primary mt-4" href="07. ADF and roots.html" role="button">
         Next Concept
        </a>
       </p>
      </div>
     </div>
    </main>
    <footer class="footer">
     <div class="container">
      <div class="row">
       <div class="col-12">
        <p class="text-center">
         udacity2.0 If you need the newest courses Plase add me wechat: udacity6
        </p>
       </div>
      </div>
     </div>
    </footer>
   </div>
  </div>
  <script src="../assets/js/jquery-3.3.1.min.js">
  </script>
  <script src="../assets/js/plyr.polyfilled.min.js">
  </script>
  <script src="../assets/js/bootstrap.min.js">
  </script>
  <script src="../assets/js/jquery.mCustomScrollbar.concat.min.js">
  </script>
  <script src="../assets/js/katex.min.js">
  </script>
  <script>
   // Initialize Plyr video players
    const players = Array.from(document.querySelectorAll('video')).map(p => new Plyr(p));

    // render math equations
    let elMath = document.getElementsByClassName('mathquill');
    for (let i = 0, len = elMath.length; i < len; i += 1) {
      const el = elMath[i];

      katex.render(el.textContent, el, {
        throwOnError: false
      });
    }

    // this hack will make sure Bootstrap tabs work when using Handlebars
    if ($('#question-tabs').length && $('#user-answer-tabs').length) {
      $("#question-tabs a.nav-link").on('click', function () {
        $("#question-tab-contents .tab-pane").hide();
        $($(this).attr("href")).show();
      });
      $("#user-answer-tabs a.nav-link").on('click', function () {
        $("#user-answer-tab-contents .tab-pane").hide();
        $($(this).attr("href")).show();
      });
    } else {
      $("a.nav-link").on('click', function () {
        $(".tab-pane").hide();
        $($(this).attr("href")).show();
      });
    }

    // side bar events
    $(document).ready(function () {
      $("#sidebar").mCustomScrollbar({
        theme: "minimal"
      });

      $('#sidebarCollapse').on('click', function () {
        $('#sidebar, #content').toggleClass('active');
        $('.collapse.in').toggleClass('in');
        $('a[aria-expanded=true]').attr('aria-expanded', 'false');
      });

      // scroll to first video on page loading
      if ($('video').length) {
        $('html,body').animate({ scrollTop: $('div.plyr').prev().offset().top});
      }

      // auto play first video: this may not work with chrome/safari due to autoplay policy
      if (players && players.length > 0) {
        players[0].play();
      }

      // scroll sidebar to current concept
      const currentInSideBar = $( "ul.sidebar-list.components li a:contains('06. Cointegration')" )
      currentInSideBar.css( "text-decoration", "underline" );
      $("#sidebar").mCustomScrollbar('scrollTo', currentInSideBar);
    });
  </script>
 </body>
</html>

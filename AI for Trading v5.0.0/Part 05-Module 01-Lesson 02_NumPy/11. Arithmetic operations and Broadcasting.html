<!-- udacimak v1.4.4 -->
<!DOCTYPE html>
<html lang="en">
 <head>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
  <meta content="ie=edge" http-equiv="X-UA-Compatible"/>
  <title>
   Arithmetic operations and Broadcasting
  </title>
  <link href="../assets/css/bootstrap.min.css" rel="stylesheet"/>
  <link href="../assets/css/plyr.css" rel="stylesheet"/>
  <link href="../assets/css/katex.min.css" rel="stylesheet"/>
  <link href="../assets/css/jquery.mCustomScrollbar.min.css" rel="stylesheet"/>
  <link href="../assets/css/styles.css" rel="stylesheet"/>
  <link href="../assets/img/udacimak.png" rel="shortcut icon" type="image/png">
  </link>
 </head>
 <body>
  <div class="wrapper">
   <nav id="sidebar">
    <div class="sidebar-header">
     <h3>
      NumPy
     </h3>
    </div>
    <ul class="sidebar-list list-unstyled CTAs">
     <li>
      <a class="article" href="../index.html">
       Back to Home
      </a>
     </li>
    </ul>
    <ul class="sidebar-list list-unstyled components">
     <li class="">
      <a href="01. Instructors.html">
       01. Instructors
      </a>
     </li>
     <li class="">
      <a href="02. Introduction to NumPy.html">
       02. Introduction to NumPy
      </a>
     </li>
     <li class="">
      <a href="03. Why Use NumPy.html">
       03. Why Use NumPy?
      </a>
     </li>
     <li class="">
      <a href="04. Creating and Saving NumPy ndarrays.html">
       04. Creating and Saving NumPy ndarrays
      </a>
     </li>
     <li class="">
      <a href="05. Using Built-in Functions to Create ndarrays.html">
       05. Using Built-in Functions to Create ndarrays
      </a>
     </li>
     <li class="">
      <a href="06. Create an ndarray.html">
       06. Create an ndarray
      </a>
     </li>
     <li class="">
      <a href="07. Accessing, Deleting, and Inserting Elements Into ndarrays.html">
       07. Accessing, Deleting, and Inserting Elements Into ndarrays
      </a>
     </li>
     <li class="">
      <a href="08. Slicing ndarrays.html">
       08. Slicing ndarrays
      </a>
     </li>
     <li class="">
      <a href="09. Boolean Indexing, Set Operations, and Sorting.html">
       09. Boolean Indexing, Set Operations, and Sorting
      </a>
     </li>
     <li class="">
      <a href="10. Manipulating ndarrays.html">
       10. Manipulating ndarrays
      </a>
     </li>
     <li class="">
      <a href="11. Arithmetic operations and Broadcasting.html">
       11. Arithmetic operations and Broadcasting
      </a>
     </li>
     <li class="">
      <a href="12. Creating ndarrays with Broadcasting.html">
       12. Creating ndarrays with Broadcasting
      </a>
     </li>
     <li class="">
      <a href="13. Getting Set Up for the Mini-Project.html">
       13. Getting Set Up for the Mini-Project
      </a>
     </li>
     <li class="">
      <a href="14. Mini-Project Mean Normalization and Data Separation.html">
       14. Mini-Project: Mean Normalization and Data Separation
      </a>
     </li>
    </ul>
    <ul class="sidebar-list list-unstyled CTAs">
     <li>
      <a class="article" href="../index.html">
       Back to Home
      </a>
     </li>
    </ul>
   </nav>
   <div id="content">
    <header class="container-fluild header">
     <div class="container">
      <div class="row">
       <div class="col-12">
        <div class="align-items-middle">
         <button class="btn btn-toggle-sidebar" id="sidebarCollapse" type="button">
          <div>
          </div>
          <div>
          </div>
          <div>
          </div>
         </button>
         <h1 style="display: inline-block">
          11. Arithmetic operations and Broadcasting
         </h1>
        </div>
       </div>
      </div>
     </div>
    </header>
    <main class="container">
     <div class="row">
      <div class="col-12">
       <div class="ud-atom">
        <h3>
        </h3>
        <div>
         <h1 id="arithmetic-operations-and-broadcasting">
          Arithmetic operations and Broadcasting
         </h1>
        </div>
       </div>
       <div class="divider">
       </div>
       <div class="ud-atom">
        <h3>
         <p>
          NumPy 6 V1
         </p>
        </h3>
        <video controls="">
         <source src="11. NumPy 6 V1-wtLRuGK0kW4.mp4" type="video/mp4"/>
         <track default="false" kind="subtitles" label="zh-CN" src="11. NumPy 6 V1-wtLRuGK0kW4.zh-CN.vtt" srclang="zh-CN"/>
         <track default="false" kind="subtitles" label="pt-BR" src="11. NumPy 6 V1-wtLRuGK0kW4.pt-BR.vtt" srclang="pt-BR"/>
         <track default="true" kind="subtitles" label="en" src="11. NumPy 6 V1-wtLRuGK0kW4.en.vtt" srclang="en"/>
        </video>
       </div>
       <div class="divider">
       </div>
       <div class="ud-atom">
        <h3>
        </h3>
        <div>
         <p>
          We have reached the last lesson in this Introduction to NumPy. In this last lesson we will see how NumPy does arithmetic operations on ndarrays. NumPy allows element-wise operations on ndarrays as well as matrix operations. In this lesson we will only be looking at element-wise operations on ndarrays. In order to do element-wise operations, NumPy sometimes uses something called
          <em>
           Broadcasting
          </em>
          . Broadcasting is the term used to describe how NumPy handles element-wise arithmetic operations with ndarrays of different shapes. For example, broadcasting is used implicitly when doing arithmetic operations between scalars and ndarrays.
         </p>
         <p>
          Let's start by doing element-wise addition, subtraction, multiplication, and division, between ndarrays. To do this, NumPy provides a functional approach, where we use functions such as
          <code>
           np.add()
          </code>
          , or by using arithmetic symbols, such as
          <code>
           +
          </code>
          , that resembles more how we write mathematical equations. Both forms will do the same operation, the only difference is that if you use the function approach, the functions usually have options that you can tweak using keywords. It is important to note that when performing element-wise operations, the shapes of the ndarrays being operated on, must have the same shape or be broadcastable. We'll explain more about this later in this lesson. Let's start by performing element-wise arithmetic operations on rank 1 ndarrays:
         </p>
         <pre><code># We create two rank 1 ndarrays
x = np.array([1,2,3,4])
y = np.array([5.5,6.5,7.5,8.5])

# We print x
print()
print('x = ', x)

# We print y
print()
print('y = ', y)
print()

# We perfrom basic element-wise operations using arithmetic symbols and functions
print('x + y = ', x + y)
print('add(x,y) = ', np.add(x,y))
print()
print('x - y = ', x - y)
print('subtract(x,y) = ', np.subtract(x,y))
print()
print('x * y = ', x * y)
print('multiply(x,y) = ', np.multiply(x,y))
print()
print('x / y = ', x / y)
print('divide(x,y) = ', np.divide(x,y))</code></pre>
         <blockquote>
          <p>
           x =  [1 2 3 4]
          </p>
         </blockquote>
         <blockquote>
          <p>
           y =  [ 5.5  6.5  7.5  8.5]
          </p>
         </blockquote>
         <blockquote>
          <p>
           x + y =  [  6.5   8.5  10.5  12.5]
           <br/>
           add(x,y) =  [  6.5   8.5  10.5  12.5]
          </p>
         </blockquote>
         <blockquote>
          <p>
           x - y =  [-4.5 -4.5 -4.5 -4.5]
           <br/>
           subtract(x,y) =  [-4.5 -4.5 -4.5 -4.5]
          </p>
         </blockquote>
         <blockquote>
          <p>
           x * y =  [  5.5  13.   22.5  34. ]
           <br/>
           multiply(x,y) =  [  5.5  13.   22.5  34. ]
          </p>
         </blockquote>
         <blockquote>
          <p>
           x / y =  [ 0.18181818  0.30769231  0.4         0.47058824]
           <br/>
           divide(x,y) =  [ 0.18181818  0.30769231  0.4         0.47058824]
          </p>
         </blockquote>
         <p>
          We can also perform the same element-wise arithmetic operations on rank 2 ndarrays. Again, remember that in order to do these operations the shapes of the ndarrays being operated on, must have the same shape or be broadcastable.
         </p>
         <pre><code># We create two rank 2 ndarrays
X = np.array([1,2,3,4]).reshape(2,2)
Y = np.array([5.5,6.5,7.5,8.5]).reshape(2,2)

# We print X
print()
print('X = \n', X)

# We print Y
print()
print('Y = \n', Y)
print()

# We perform basic element-wise operations using arithmetic symbols and functions
print('X + Y = \n', X + Y)
print()
print('add(X,Y) = \n', np.add(X,Y))
print()
print('X - Y = \n', X - Y)
print()
print('subtract(X,Y) = \n', np.subtract(X,Y))
print()
print('X * Y = \n', X * Y)
print()
print('multiply(X,Y) = \n', np.multiply(X,Y))
print()
print('X / Y = \n', X / Y)
print()
print('divide(X,Y) = \n', np.divide(X,Y))</code></pre>
         <blockquote>
          <p>
           X =
           <br/>
           [[1 2]
           <br/>
           [3 4]]
          </p>
         </blockquote>
         <blockquote>
          <p>
           Y =
           <br/>
           [[ 5.5  6.5]
           <br/>
           [ 7.5  8.5]]
          </p>
         </blockquote>
         <blockquote>
          <p>
           X + Y =
           <br/>
           [[  6.5   8.5]
           <br/>
           [ 10.5  12.5]]
          </p>
         </blockquote>
         <blockquote>
          <p>
           add(X,Y) =
           <br/>
           [[  6.5   8.5]
           <br/>
           [ 10.5  12.5]]
          </p>
         </blockquote>
         <blockquote>
          <p>
           X - Y =
           <br/>
           [[-4.5 -4.5]
           <br/>
           [-4.5 -4.5]]
          </p>
         </blockquote>
         <blockquote>
          <p>
           subtract(X,Y) =
           <br/>
           [[-4.5 -4.5]
           <br/>
           [-4.5 -4.5]]
          </p>
         </blockquote>
         <blockquote>
          <p>
           X * Y =
           <br/>
           [[  5.5  13. ]
           <br/>
           [ 22.5  34. ]]
          </p>
         </blockquote>
         <blockquote>
          <p>
           multiply(X,Y) =
           <br/>
           [[  5.5  13. ]
           <br/>
           [ 22.5  34. ]]
          </p>
         </blockquote>
         <blockquote>
          <p>
           X / Y =
           <br/>
           [[ 0.18181818  0.30769231]
           <br/>
           [ 0.4         0.47058824]]
          </p>
         </blockquote>
         <blockquote>
          <p>
           divide(X,Y) =
           <br/>
           [[ 0.18181818  0.30769231]
           <br/>
           [ 0.4         0.47058824]]
          </p>
         </blockquote>
         <p>
          We can also apply mathematical functions, such as
          <code>
           sqrt(x)
          </code>
          , to all elements of an ndarray at once.
         </p>
         <pre><code># We create a rank 1 ndarray
x = np.array([1,2,3,4])

# We print x
print()
print('x = ', x)

# We apply different mathematical functions to all elements of x
print()
print('EXP(x) =', np.exp(x))
print()
print('SQRT(x) =',np.sqrt(x))
print()
print('POW(x,2) =',np.power(x,2)) # We raise all elements to the power of 2</code></pre>
         <blockquote>
          <p>
           x =  [1 2 3 4]
          </p>
         </blockquote>
         <blockquote>
          <p>
           EXP(x) = [  2.71828183   7.3890561   20.08553692  54.59815003]
          </p>
         </blockquote>
         <blockquote>
          <p>
           SQRT(x) = [ 1.  1.41421356  1.73205081  2.        ]
          </p>
         </blockquote>
         <blockquote>
          <p>
           POW(x,2) = [ 1  4  9 16]
          </p>
         </blockquote>
         <p>
          Another great feature of NumPy is that it has a wide variety of statistical functions. Statistical functions provide us with statistical information about the elements in an ndarray. Let's see some examples:
         </p>
         <pre><code># We create a 2 x 2 ndarray
X = np.array([[1,2], [3,4]])

# We print x
print()
print('X = \n', X)
print()

print('Average of all elements in X:', X.mean())
print('Average of all elements in the columns of X:', X.mean(axis=0))
print('Average of all elements in the rows of X:', X.mean(axis=1))
print()
print('Sum of all elements in X:', X.sum())
print('Sum of all elements in the columns of X:', X.sum(axis=0))
print('Sum of all elements in the rows of X:', X.sum(axis=1))
print()
print('Standard Deviation of all elements in X:', X.std())
print('Standard Deviation of all elements in the columns of X:', X.std(axis=0))
print('Standard Deviation of all elements in the rows of X:', X.std(axis=1))
print()
print('Median of all elements in X:', np.median(X))
print('Median of all elements in the columns of X:', np.median(X,axis=0))
print('Median of all elements in the rows of X:', np.median(X,axis=1))
print()
print('Maximum value of all elements in X:', X.max())
print('Maximum value of all elements in the columns of X:', X.max(axis=0))
print('Maximum value of all elements in the rows of X:', X.max(axis=1))
print()
print('Minimum value of all elements in X:', X.min())
print('Minimum value of all elements in the columns of X:', X.min(axis=0))
print('Minimum value of all elements in the rows of X:', X.min(axis=1))</code></pre>
         <blockquote>
          <p>
           X =
           <br/>
           [[1 2]
           <br/>
           [3 4]]
          </p>
         </blockquote>
         <blockquote>
          <p>
           Average of all elements in X: 2.5
           <br/>
           Average of all elements in the columns of X: [ 2.  3.]
           <br/>
           Average of all elements in the rows of X: [ 1.5  3.5]
          </p>
         </blockquote>
         <blockquote>
          <p>
           Sum of all elements in X: 10
           <br/>
           Sum of all elements in the columns of X: [4 6]
           <br/>
           Sum of all elements in the rows of X: [3 7]
          </p>
         </blockquote>
         <blockquote>
          <p>
           Standard Deviation of all elements in X: 1.11803398875
           <br/>
           Standard Deviation of all elements in the columns of X: [ 1.  1.]
           <br/>
           Standard Deviation of all elements in the rows of X: [ 0.5  0.5]
          </p>
         </blockquote>
         <blockquote>
          <p>
           Median of all elements in X: 2.5
           <br/>
           Median of all elements in the columns of X: [ 2.  3.]
           <br/>
           Median of all elements in the rows of X: [ 1.5  3.5]
          </p>
         </blockquote>
         <blockquote>
          <p>
           Maximum value of all elements in X: 4
           <br/>
           Maximum value of all elements in the columns of X: [3 4]
           <br/>
           Maximum value of all elements in the rows of X: [2 4]
          </p>
         </blockquote>
         <blockquote>
          <p>
           Minimum value of all elements in X: 1
           <br/>
           Minimum value of all elements in the columns of X: [1 2]
           <br/>
           Minimum value of all elements in the rows of X: [1 3]
          </p>
         </blockquote>
         <p>
          Finally, let's see how NumPy can add single numbers to all the elements of an ndarray without the use of complicated loops.
         </p>
         <pre><code># We create a 2 x 2 ndarray
X = np.array([[1,2], [3,4]])

# We print x
print()
print('X = \n', X)
print()

print('3 * X = \n', 3 * X)
print()
print('3 + X = \n', 3 + X)
print()
print('X - 3 = \n', X - 3)
print()
print('X / 3 = \n', X / 3)</code></pre>
         <blockquote>
          <p>
           X =
           <br/>
           [[1 2]
           <br/>
           [3 4]]
          </p>
         </blockquote>
         <blockquote>
          <p>
           3 * X =
           <br/>
           [[ 3  6]
           <br/>
           [ 9 12]]
          </p>
         </blockquote>
         <blockquote>
          <p>
           3 + X =
           <br/>
           [[4 5]
           <br/>
           [6 7]]
          </p>
         </blockquote>
         <blockquote>
          <p>
           X - 3 =
           <br/>
           [[-2 -1]
           <br/>
           [ 0  1]]
          </p>
         </blockquote>
         <blockquote>
          <p>
           X / 3 =
           <br/>
           [[ 0.33333333  0.66666667]
           <br/>
           [ 1.  1.33333333]]
          </p>
         </blockquote>
         <p>
          In the examples above, NumPy is working behind the scenes to broadcast
          <code>
           3
          </code>
          along the ndarray so that they have the same shape. This allows us to add 3 to each element of
          <code>
           X
          </code>
          with just one line of code.
         </p>
         <p>
          Subject to certain constraints, Numpy can do the same for two ndarrays of different shapes, as we can see below.
         </p>
         <pre><code># We create a rank 1 ndarray
x = np.array([1,2,3])

# We create a 3 x 3 ndarray
Y = np.array([[1,2,3],[4,5,6],[7,8,9]])

# We create a 3 x 1 ndarray
Z = np.array([1,2,3]).reshape(3,1)

# We print x
print()
print('x = ', x)
print()

# We print Y
print()
print('Y = \n', Y)
print()

# We print Z
print()
print('Z = \n', Z)
print()

print('x + Y = \n', x + Y)
print()
print('Z + Y = \n',Z + Y)</code></pre>
         <blockquote>
          <p>
           x = [1 2 3]
          </p>
         </blockquote>
         <blockquote>
          <p>
           Y =
           <br/>
           [[1 2 3]
           <br/>
           [4 5 6]
           <br/>
           [7 8 9]]
          </p>
         </blockquote>
         <blockquote>
          <p>
           Z =
           <br/>
           [[1]
           <br/>
           [2]
           <br/>
           [3]]
          </p>
         </blockquote>
         <blockquote>
          <p>
           x + Y =
           <br/>
           [[ 2  4  6]
           <br/>
           [ 5  7  9]
           <br/>
           [ 8 10 12]]
          </p>
         </blockquote>
         <blockquote>
          <p>
           Z + Y =
           <br/>
           [[ 2  3  4]
           <br/>
           [ 6  7  8]
           <br/>
           [10 11 12]]
          </p>
         </blockquote>
         <p>
          As before, NumPy is able to add 1 x 3 and 3 x 1 ndarrays to  3 x 3 ndarrays by broadcasting the smaller ndarrays along the big ndarray so that they have compatible shapes. In general, NumPy can do this provided that the smaller ndarray, such as the 1 x 3 ndarray in our example, can be expanded to the shape of the larger ndarray in such a way that the resulting broadcast is unambiguous.
         </p>
         <p>
          Make sure you check out the NumPy Documentation for more information on Broadcasting and its rules:
          <br/>
          <a href="https://docs.scipy.org/doc/numpy-1.13.0/user/basics.broadcasting.html" rel="noopener noreferrer" target="_blank">
           Broadcasting
          </a>
         </p>
        </div>
       </div>
       <div class="divider">
       </div>
      </div>
      <div class="col-12">
       <p class="text-right">
        <a class="btn btn-outline-primary mt-4" href="12. Creating ndarrays with Broadcasting.html" role="button">
         Next Concept
        </a>
       </p>
      </div>
     </div>
    </main>
    <footer class="footer">
     <div class="container">
      <div class="row">
       <div class="col-12">
        <p class="text-center">
         udacity2.0 If you need the newest courses Plase add me wechat: udacity6
        </p>
       </div>
      </div>
     </div>
    </footer>
   </div>
  </div>
  <script src="../assets/js/jquery-3.3.1.min.js">
  </script>
  <script src="../assets/js/plyr.polyfilled.min.js">
  </script>
  <script src="../assets/js/bootstrap.min.js">
  </script>
  <script src="../assets/js/jquery.mCustomScrollbar.concat.min.js">
  </script>
  <script src="../assets/js/katex.min.js">
  </script>
  <script>
   // Initialize Plyr video players
    const players = Array.from(document.querySelectorAll('video')).map(p => new Plyr(p));

    // render math equations
    let elMath = document.getElementsByClassName('mathquill');
    for (let i = 0, len = elMath.length; i < len; i += 1) {
      const el = elMath[i];

      katex.render(el.textContent, el, {
        throwOnError: false
      });
    }

    // this hack will make sure Bootstrap tabs work when using Handlebars
    if ($('#question-tabs').length && $('#user-answer-tabs').length) {
      $("#question-tabs a.nav-link").on('click', function () {
        $("#question-tab-contents .tab-pane").hide();
        $($(this).attr("href")).show();
      });
      $("#user-answer-tabs a.nav-link").on('click', function () {
        $("#user-answer-tab-contents .tab-pane").hide();
        $($(this).attr("href")).show();
      });
    } else {
      $("a.nav-link").on('click', function () {
        $(".tab-pane").hide();
        $($(this).attr("href")).show();
      });
    }

    // side bar events
    $(document).ready(function () {
      $("#sidebar").mCustomScrollbar({
        theme: "minimal"
      });

      $('#sidebarCollapse').on('click', function () {
        $('#sidebar, #content').toggleClass('active');
        $('.collapse.in').toggleClass('in');
        $('a[aria-expanded=true]').attr('aria-expanded', 'false');
      });

      // scroll to first video on page loading
      if ($('video').length) {
        $('html,body').animate({ scrollTop: $('div.plyr').prev().offset().top});
      }

      // auto play first video: this may not work with chrome/safari due to autoplay policy
      if (players && players.length > 0) {
        players[0].play();
      }

      // scroll sidebar to current concept
      const currentInSideBar = $( "ul.sidebar-list.components li a:contains('11. Arithmetic operations and Broadcasting')" )
      currentInSideBar.css( "text-decoration", "underline" );
      $("#sidebar").mCustomScrollbar('scrollTo', currentInSideBar);
    });
  </script>
 </body>
</html>
